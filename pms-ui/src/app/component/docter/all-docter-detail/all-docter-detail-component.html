<div class="container-fluid">
	<div class="row align-items-center">
		<div class="col-md-6">
			<h2>Doctors</h2>
		</div>
		<div class="col-md-6">
                <div style="display:flex; justify-content:flex-end; gap:8px;">
                	<input placeholder="Search..." (input)="applyFilter($event)" style="height:40px; padding:6px 8px;" />
                	<button mat-flat-button color="primary" (click)="openAddDialog()" *appHasPermission="['ROLE_CREATE_DOCTOR','ROLE_CREATE_DOCTER']">Add Doctor</button>
                </div>
		</div>
	</div>

	<div class="row mt-3">
		<div class="col-12">
			<div class="mat-elevation-z8">
				<div class="table-wrapper">
					<table mat-table [dataSource]="dataSource" class="full-width" matSort>

					<ng-container matColumnDef="id">
						<th mat-header-cell *matHeaderCellDef mat-sort-header>DoctorID</th>
						<td mat-cell *matCellDef="let d">{{ d.id }}</td>
					</ng-container>

					<ng-container matColumnDef="name">
						<th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
						<td mat-cell *matCellDef="let d">{{ d.name }}</td>
					</ng-container>

					<ng-container matColumnDef="specialization">
						<th mat-header-cell *matHeaderCellDef mat-sort-header>Specialization</th>
						<td mat-cell *matCellDef="let d">{{ d.specialization }}</td>
					</ng-container>

					<ng-container matColumnDef="department">
						<th mat-header-cell *matHeaderCellDef mat-sort-header>Department</th>
						<td mat-cell *matCellDef="let d">{{ d.department }}</td>
					</ng-container>

					<ng-container matColumnDef="experience">
						<th mat-header-cell *matHeaderCellDef mat-sort-header>Experience</th>
						<td mat-cell *matCellDef="let d">{{ d.experience }} yrs</td>
					</ng-container>

					<!-- <ng-container matColumnDef="email">
						<th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
						<td mat-cell *matCellDef="let d">{{ d.email }}</td>
					</ng-container> -->

					<ng-container matColumnDef="phone">
						<th mat-header-cell *matHeaderCellDef mat-sort-header>Phone</th>
						<td mat-cell *matCellDef="let d">{{ d.phone }}</td>
					</ng-container>

					<ng-container matColumnDef="status">
						<th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
						<td mat-cell *matCellDef="let d">{{ d.status }}</td>
					</ng-container>

					<ng-container matColumnDef="actions">
						<th mat-header-cell *matHeaderCellDef class="text-center">Actions</th>
						<td mat-cell *matCellDef="let d" class="text-center mat-column-actions">
							<div class="action-buttons" role="group" aria-label="row actions">
								<button mat-icon-button color="primary" title="View" (click)="viewDoctor(d)"><mat-icon>visibility</mat-icon></button>
								<button mat-icon-button color="primary" title="Availability" (click)="viewAvailability(d)"><mat-icon>schedule</mat-icon></button>
								<button mat-icon-button color="accent" title="Edit" (click)="editDoctor(d)" *appHasPermission="['ROLE_EDIT_DOCTOR','ROLE_EDIT_DOCTER']"><mat-icon>edit</mat-icon></button>
								<button mat-icon-button color="warn" title="Delete" (click)="deleteDoctor(d)" *appHasPermission="['ROLE_DELETE_DOCTOR','ROLE_DELETE_DOCTER']"><mat-icon>delete</mat-icon></button>
							</div>
						</td>
					</ng-container>

					<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
					<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
					</table>
				</div>

				<mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
			</div>
		</div>
	</div>
</div>
