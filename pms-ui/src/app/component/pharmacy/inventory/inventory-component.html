<div class="container-fluid">
  <div class="row align-items-center">
    <div class="col-md-6"><h2>Pharmacy Inventory</h2></div>
    <div class="col-md-6">
        <div style="display:flex; justify-content:flex-end; gap:8px;">
        <input placeholder="Search..." (input)="applyFilter($event)" style="height:40px; padding:6px 8px;" />
        <button mat-flat-button color="primary" (click)="openAddDialog()">Add Medicine</button>
      </div>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-12">
      <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" class="full-width" matSort>
          <ng-container matColumnDef="id"><th mat-header-cell *matHeaderCellDef>ID</th><td mat-cell *matCellDef="let m">{{m.id}}</td></ng-container>
          <ng-container matColumnDef="name"><th mat-header-cell *matHeaderCellDef>Name</th><td mat-cell *matCellDef="let m">{{m.name}}</td></ng-container>
          <ng-container matColumnDef="sku"><th mat-header-cell *matHeaderCellDef>SKU</th><td mat-cell *matCellDef="let m">{{m.sku}}</td></ng-container>
          <ng-container matColumnDef="stock"><th mat-header-cell *matHeaderCellDef>Stock</th><td mat-cell *matCellDef="let m">{{m.stock}}</td></ng-container>
          <ng-container matColumnDef="unitPrice"><th mat-header-cell *matHeaderCellDef>Unit Price</th><td mat-cell *matCellDef="let m">{{m.unitPrice | currency}}</td></ng-container>
          <ng-container matColumnDef="expiry"><th mat-header-cell *matHeaderCellDef>Expiry</th><td mat-cell *matCellDef="let m">{{m.expiry}}</td></ng-container>
          <ng-container matColumnDef="actions"><th mat-header-cell *matHeaderCellDef>Actions</th><td mat-cell *matCellDef="let m"><button mat-icon-button color="primary" (click)="openAddDialog(m)"><mat-icon>visibility</mat-icon></button><button mat-icon-button color="accent" (click)="openAddDialog(m)"><mat-icon>edit</mat-icon></button><button mat-icon-button color="warn" (click)="delete(m)"><mat-icon>delete</mat-icon></button></td></ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
      </div>
    </div>
  </div>
</div>
